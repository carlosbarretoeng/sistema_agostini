import{u as A,p as M,g as S,h as f,o as n,c as r,e as l,d as o,a as c,b as a,F as u,m as y,k as B,j as N}from"./app.775a790a.js";import{_ as I,A as _}from"./AppLayout.f70166d9.js";import{_ as T}from"./InputText.df88593f.js";import{_ as x}from"./InputSelect.58f54399.js";const U=N(" Nova Esta\xE7\xE3o de Trabalho "),F=N(" Esta\xE7\xE3o de Trabalho "),q=["href"],D=o("span",{class:"hidden sm:inline-block"},"Voltar",-1),j=o("span",{class:"hidden sm:inline-block"},"Salvar",-1),G=o("span",{class:"hidden sm:inline-block"},"Atualizar",-1),H=["href"],J=o("span",{class:"hidden sm:inline-block"},"Editar",-1),K={key:1,href:"#deleteModal",class:"btn btn-error gap-2"},L=o("span",{class:"hidden sm:inline-block"},"Excluir",-1),O={class:"modal",id:"deleteModal"},P={class:"modal-box"},Q=o("h3",{class:"font-bold text-lg"},"Excluir Empresa",-1),R=o("p",{class:"py-4"},"Tem certeza de que quer excluir essa empresa? Essa opera\xE7\xE3o n\xE3o poder\xE1 ser defeita.",-1),W={class:"modal-action"},X=o("a",{href:"#",class:"btn"},"N\xE3o",-1),Y={class:"grid sm:grid-cols-4 gap-2"},ae={__name:"Info",props:{context:String,id:Number,company_id:Number|null,department_id:Number,name:String,companies:Array,departments:Array},setup(h){var k,V,v,w;const t=h,b=t.context==="create",m=t.context==="show",g=t.context==="edit",s=A({id:(k=t.id)!=null?k:null,company_id:(V=t.company_id)!=null?V:null,department_id:(v=t.department_id)!=null?v:null,name:(w=t.name)!=null?w:null});let C=M(()=>{let i=t.departments.filter(e=>(console.log(""+e.company_id,s.company_id,e.company_id===s.company_id),""+e.company_id==""+s.company_id));return console.log(i),i});const E=()=>{y.Inertia.delete(route("machinery.destroy",t.id))},$=()=>{y.Inertia.post(route("machinery.store"),s)},z=()=>{y.Inertia.put(route("machinery.update",t.id),s)};return(i,e)=>{const p=B("font-awesome-icon");return n(),S(I,null,{header:f(()=>[b?(n(),r(u,{key:0},[U],64)):l("",!0),m||g?(n(),r(u,{key:1},[F],64)):l("",!0)]),actions:f(()=>[o("a",{href:i.route("machinery.index"),class:"btn btn-outline mr-2 gap-2"},[c(p,{icon:"fa-solid fa-arrow-left",size:"lg"}),D],8,q),b?(n(),r(u,{key:0},[a(_).canView(i.$page.props.user,{permission:"machinery.create"})?(n(),r("a",{key:0,onClick:e[0]||(e[0]=d=>$()),class:"btn btn-success gap-2"},[c(p,{icon:"fa-solid fa-save",size:"lg"}),j])):l("",!0)],64)):l("",!0),g?(n(),r(u,{key:1},[a(_).canView(i.$page.props.user,{permission:"machinery.update"})?(n(),r("a",{key:0,onClick:e[1]||(e[1]=d=>z()),class:"btn btn-success gap-2"},[c(p,{icon:"fa-solid fa-arrows-rotate",size:"lg"}),G])):l("",!0)],64)):l("",!0),m?(n(),r(u,{key:2},[a(_).canView(i.$page.props.user,{permission:"machinery.update"})?(n(),r("a",{key:0,href:i.route("machinery.edit",h.id),class:"btn btn-info mr-2 gap-2"},[c(p,{icon:"fa-solid fa-edit",size:"lg"}),J],8,H)):l("",!0),a(_).canView(i.$page.props.user,{permission:"machinery.delete"})?(n(),r("a",K,[c(p,{icon:"fa-solid fa-trash",size:"lg"}),L])):l("",!0),o("div",O,[o("div",P,[Q,R,o("div",W,[o("a",{onClick:e[2]||(e[2]=d=>E()),class:"btn"},"Sim"),X])])])],64)):l("",!0)]),default:f(()=>[o("div",Y,[c(x,{label:"Empresa",options:h.companies,modelValue:a(s).company_id,"onUpdate:modelValue":e[3]||(e[3]=d=>a(s).company_id=d),disabled:m},null,8,["options","modelValue"]),c(x,{label:"Departamento",options:a(C),modelValue:a(s).department_id,"onUpdate:modelValue":e[4]||(e[4]=d=>a(s).department_id=d),disabled:m},null,8,["options","modelValue"]),c(T,{label:"Nome",modelValue:a(s).name,"onUpdate:modelValue":e[5]||(e[5]=d=>a(s).name=d),disabled:m},null,8,["modelValue"])])]),_:1})}}};export{ae as default};
