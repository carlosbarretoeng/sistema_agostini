import{u as F,g as H,h as x,o as c,d as s,a as n,c as _,e as U,F as O,b as o,f as b,A as f,j as R,m as k,k as q}from"./app.faa29493.js";import{_ as G}from"./AppLayout.f23ed0f3.js";import{_ as M}from"./InputSelect.63d9886d.js";import{_ as p}from"./InputText.d0059e35.js";const J=R(" Usu\xE1rios "),K=["href"],L=s("span",{class:"hidden sm:inline-block"},"Voltar",-1),Q=s("span",{class:"hidden sm:inline-block"},"Salvar",-1),W=s("span",{class:"hidden sm:inline-block"},"Atualizar",-1),X=s("span",{class:"hidden sm:inline-block"},"Excluir",-1),Y={class:"grid gap-2"},Z={class:""},ss={class:"card bg-base-100 shadow-xl"},es={class:"p-2 grid sm:grid-cols-4 gap-2"},ls={class:"col-span-4 sm:col-span-1"},os={class:"col-span-4 sm:col-span-1"},as={class:"col-span-4 sm:col-span-1"},ts={class:"col-span-4 sm:col-span-1"},ns={key:0,href:"#deleteModal",class:"btn w-full btn-primary gap-2 sm:mt-9"},is=s("span",{class:""},"Alterar senha",-1),ds={key:1},rs={class:"modal",id:"deleteModal"},cs={class:"modal-box"},ps=s("h3",{class:"font-bold text-lg"},"Alterar Senha",-1),us={class:"py-4"},ms={class:"modal-action"},hs=s("a",{href:"#",class:"btn"},"Cancelar",-1),_s={class:"col-span-4 sm:col-span-1"},bs={class:"col-span-4 sm:col-span-1"},fs={class:"col-span-2"},ks=s("label",{class:"label"},[s("span",{class:"label-text font-medium"},"Aplicativos")],-1),xs={class:"grid grid-cols-3 sm:grid-cols-5 form-control mt-1"},Us={class:"label cursor-pointer space-x-2"},Vs=["checked"],gs=s("span",{class:"label-text flex-1"},"Tempos",-1),vs={class:"label cursor-pointer space-x-2"},ys=["checked"],ws=s("span",{class:"label-text flex-1"},"Custos",-1),Cs={class:"label cursor-pointer space-x-2"},$s=["checked"],As=s("span",{class:"label-text flex-1"},"Vendas",-1),Ns={class:"label cursor-pointer space-x-2"},Ss=["checked"],zs=s("span",{class:"label-text flex-1"},"Cargas",-1),Is={class:"label cursor-pointer space-x-2"},Bs=["checked"],Es=s("span",{class:"label-text flex-1"},"Cursos",-1),Ts={__name:"Info",props:{context:String,thisUser:Object,companies:Array,roles:Array},setup(d){var g,v,y,w,C,$,A,N,S,z,I,B;const t=d,V=t.context==="create";t.context,t.context;const i=r=>t.thisUser&&t.thisUser.roles[0]?t.thisUser.roles[0].permissions.filter(e=>e.name==="apps."+r).length>0:!1,a=F({name:(v=(g=t.thisUser)==null?void 0:g.name)!=null?v:null,username:(w=(y=t.thisUser)==null?void 0:y.username)!=null?w:null,email:($=(C=t.thisUser)==null?void 0:C.email)!=null?$:null,password:null,company_id:(N=(A=t.thisUser)==null?void 0:A.company_id)!=null?N:null,role_id:(I=(z=(S=t.thisUser)==null?void 0:S.roles[0])==null?void 0:z.id)!=null?I:null,apps_times:i("times"),apps_budget:i("budget"),apps_sales:i("sales"),apps_ships:i("ships"),apps_courses:i("courses")}),u=F({id:(B=t.thisUser)==null?void 0:B.id,password:null,retype:null}),P=()=>{k.Inertia.delete(route("user.destroy",t.thisUser.id))},j=()=>{k.Inertia.put(route("user.update",t.thisUser.id),a)},T=()=>{k.Inertia.post(route("user.store"),a)},D=()=>{k.Inertia.put(route("user.passwordUpdate",t.thisUser.id),u)};return(r,e)=>{const m=q("font-awesome-icon");return c(),H(G,null,{header:x(()=>[J]),actions:x(()=>[s("a",{href:r.route("user.index"),class:"btn btn-outline mr-2 gap-2"},[n(m,{icon:"fa-solid fa-arrow-left",size:"lg"}),L],8,K),V?(c(),_("a",{key:0,onClick:e[0]||(e[0]=h=>T()),class:"btn btn-success gap-2"},[n(m,{icon:"fa-solid fa-save",size:"lg"}),Q])):U("",!0),V?U("",!0):(c(),_(O,{key:1},[s("a",{onClick:e[1]||(e[1]=h=>j()),class:"btn btn-success mr-2 gap-2"},[n(m,{icon:"fa-solid fa-arrows-rotate",size:"lg"}),W]),d.thisUser.id!==r.$page.props.user.id?(c(),_("a",{key:0,onClick:e[2]||(e[2]=h=>P()),class:"btn btn-error gap-2"},[n(m,{icon:"fa-solid fa-trash",size:"lg"}),X])):U("",!0)],64))]),default:x(()=>{var h,E;return[s("div",Y,[s("div",Z,[s("div",ss,[s("div",es,[s("div",ls,[n(p,{label:"Nome",modelValue:o(a).name,"onUpdate:modelValue":e[3]||(e[3]=l=>o(a).name=l)},null,8,["modelValue"])]),s("div",os,[n(p,{label:"Usu\xE1rio",modelValue:o(a).username,"onUpdate:modelValue":e[4]||(e[4]=l=>o(a).username=l)},null,8,["modelValue"])]),s("div",as,[n(p,{label:"Email",modelValue:o(a).email,"onUpdate:modelValue":e[5]||(e[5]=l=>o(a).email=l)},null,8,["modelValue"])]),s("div",ts,[d.thisUser?(c(),_("a",ns,[n(m,{icon:"fa-solid fa-lock",size:"lg"}),is])):(c(),_("div",ds,[n(p,{label:"Senha",modelValue:o(a).password,"onUpdate:modelValue":e[6]||(e[6]=l=>o(a).password=l)},null,8,["modelValue"])])),s("div",rs,[s("div",cs,[ps,s("p",us,[n(p,{type:"password",label:"Senha",modelValue:o(u).password,"onUpdate:modelValue":e[7]||(e[7]=l=>o(u).password=l)},null,8,["modelValue"]),n(p,{type:"password",label:"Repita a senha",modelValue:o(u).retype,"onUpdate:modelValue":e[8]||(e[8]=l=>o(u).retype=l)},null,8,["modelValue"])]),s("div",ms,[hs,s("a",{href:"#",onClick:e[9]||(e[9]=l=>D()),class:"btn"},"Alterar Senha")])])])]),s("div",_s,[n(M,{label:"Empresa",options:d.companies,modelValue:o(a).company_id,"onUpdate:modelValue":e[10]||(e[10]=l=>o(a).company_id=l),disabled:((h=d.thisUser)==null?void 0:h.id)===r.$page.props.user.id},null,8,["options","modelValue","disabled"])]),s("div",bs,[n(M,{label:"Perfil",options:d.roles,modelValue:o(a).role_id,"onUpdate:modelValue":e[11]||(e[11]=l=>o(a).role_id=l),disabled:((E=d.thisUser)==null?void 0:E.id)===r.$page.props.user.id},null,8,["options","modelValue","disabled"])]),s("div",fs,[ks,s("div",xs,[s("label",Us,[b(s("input",{type:"checkbox",class:"checkbox","onUpdate:modelValue":e[12]||(e[12]=l=>o(a).apps_times=l),checked:i("times"),disabled:""},null,8,Vs),[[f,o(a).apps_times]]),gs]),s("label",vs,[b(s("input",{type:"checkbox",class:"checkbox","onUpdate:modelValue":e[13]||(e[13]=l=>o(a).apps_budget=l),checked:i("budget"),disabled:""},null,8,ys),[[f,o(a).apps_budget]]),ws]),s("label",Cs,[b(s("input",{type:"checkbox",class:"checkbox","onUpdate:modelValue":e[14]||(e[14]=l=>o(a).apps_sales=l),checked:i("sales"),disabled:""},null,8,$s),[[f,o(a).apps_sales]]),As]),s("label",Ns,[b(s("input",{type:"checkbox",class:"checkbox","onUpdate:modelValue":e[15]||(e[15]=l=>o(a).apps_ships=l),checked:i("ships"),disabled:""},null,8,Ss),[[f,o(a).apps_ships]]),zs]),s("label",Is,[b(s("input",{type:"checkbox",class:"checkbox","onUpdate:modelValue":e[16]||(e[16]=l=>o(a).apps_courses=l),checked:i("courses"),disabled:""},null,8,Bs),[[f,o(a).apps_courses]]),Es])])])])])])])]}),_:1})}}};export{Ts as default};
