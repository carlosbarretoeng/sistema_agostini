import{u as A,z as M,j as S,k as h,h as B,o as n,c as r,l as x,F as u,e as l,d as o,a as c,b as a,q as y}from"./app.c0934f99.js";import{_ as I,A as _}from"./AppLayout.b5c1bae9.js";import{_ as T}from"./InputText.230fb108.js";import{_ as N}from"./InputSelect.4b9144ff.js";const U=["href"],q=o("span",{class:"hidden sm:inline-block"},"Voltar",-1),F=o("span",{class:"hidden sm:inline-block"},"Salvar",-1),D=o("span",{class:"hidden sm:inline-block"},"Atualizar",-1),j=["href"],G=o("span",{class:"hidden sm:inline-block"},"Editar",-1),H={key:1,href:"#deleteModal",class:"btn btn-error gap-2"},J=o("span",{class:"hidden sm:inline-block"},"Excluir",-1),K={class:"modal",id:"deleteModal"},L={class:"modal-box"},O=o("h3",{class:"font-bold text-lg"},"Excluir Empresa",-1),P=o("p",{class:"py-4"},"Tem certeza de que quer excluir essa empresa? Essa opera\xE7\xE3o n\xE3o poder\xE1 ser defeita.",-1),Q={class:"modal-action"},R=o("a",{href:"#",class:"btn"},"N\xE3o",-1),W={class:"grid sm:grid-cols-4 gap-2"},oe={__name:"Info",props:{context:String,id:Number,company_id:Number|null,department_id:Number,name:String,companies:Array,departments:Array},setup(f){var k,V,v,w;const t=f,b=t.context==="create",m=t.context==="show",g=t.context==="edit",s=A({id:(k=t.id)!=null?k:null,company_id:(V=t.company_id)!=null?V:null,department_id:(v=t.department_id)!=null?v:null,name:(w=t.name)!=null?w:null});let C=M(()=>{let i=t.departments.filter(e=>(console.log(""+e.company_id,s.company_id,e.company_id===s.company_id),""+e.company_id==""+s.company_id));return console.log(i),i});const E=()=>{y.Inertia.delete(route("machinery.destroy",t.id))},$=()=>{y.Inertia.post(route("machinery.store"),s)},z=()=>{y.Inertia.put(route("machinery.update",t.id),s)};return(i,e)=>{const p=B("font-awesome-icon");return n(),S(I,null,{header:h(()=>[b?(n(),r(u,{key:0},[x(" Nova Esta\xE7\xE3o de Trabalho ")],64)):l("",!0),m||g?(n(),r(u,{key:1},[x(" Esta\xE7\xE3o de Trabalho ")],64)):l("",!0)]),actions:h(()=>[o("a",{href:i.route("machinery.index"),class:"btn btn-outline mr-2 gap-2"},[c(p,{icon:"fa-solid fa-arrow-left",size:"lg"}),q],8,U),b?(n(),r(u,{key:0},[a(_).canView(i.$page.props.user,{permission:"machinery.create"})?(n(),r("a",{key:0,onClick:e[0]||(e[0]=d=>$()),class:"btn btn-success gap-2"},[c(p,{icon:"fa-solid fa-save",size:"lg"}),F])):l("",!0)],64)):l("",!0),g?(n(),r(u,{key:1},[a(_).canView(i.$page.props.user,{permission:"machinery.update"})?(n(),r("a",{key:0,onClick:e[1]||(e[1]=d=>z()),class:"btn btn-success gap-2"},[c(p,{icon:"fa-solid fa-arrows-rotate",size:"lg"}),D])):l("",!0)],64)):l("",!0),m?(n(),r(u,{key:2},[a(_).canView(i.$page.props.user,{permission:"machinery.update"})?(n(),r("a",{key:0,href:i.route("machinery.edit",f.id),class:"btn btn-info mr-2 gap-2"},[c(p,{icon:"fa-solid fa-edit",size:"lg"}),G],8,j)):l("",!0),a(_).canView(i.$page.props.user,{permission:"machinery.delete"})?(n(),r("a",H,[c(p,{icon:"fa-solid fa-trash",size:"lg"}),J])):l("",!0),o("div",K,[o("div",L,[O,P,o("div",Q,[o("a",{onClick:e[2]||(e[2]=d=>E()),class:"btn"},"Sim"),R])])])],64)):l("",!0)]),default:h(()=>[o("div",W,[c(N,{label:"Empresa",options:f.companies,modelValue:a(s).company_id,"onUpdate:modelValue":e[3]||(e[3]=d=>a(s).company_id=d),disabled:m},null,8,["options","modelValue"]),c(N,{label:"Departamento",options:a(C),modelValue:a(s).department_id,"onUpdate:modelValue":e[4]||(e[4]=d=>a(s).department_id=d),disabled:m},null,8,["options","modelValue"]),c(T,{label:"Nome",modelValue:a(s).name,"onUpdate:modelValue":e[5]||(e[5]=d=>a(s).name=d),disabled:m},null,8,["modelValue"])])]),_:1})}}};export{oe as default};
