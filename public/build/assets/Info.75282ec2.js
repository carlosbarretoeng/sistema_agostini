import{u as F,j as q,k as x,h as H,o as c,l as O,d as s,a as n,c as _,e as U,F as R,b as o,f as b,D as f,q as k}from"./app.c0934f99.js";import{_ as G}from"./AppLayout.b5c1bae9.js";import{_ as M}from"./InputSelect.4b9144ff.js";import{_ as p}from"./InputText.230fb108.js";const J=["href"],K=s("span",{class:"hidden sm:inline-block"},"Voltar",-1),L=s("span",{class:"hidden sm:inline-block"},"Salvar",-1),Q=s("span",{class:"hidden sm:inline-block"},"Atualizar",-1),W=s("span",{class:"hidden sm:inline-block"},"Excluir",-1),X={class:"grid gap-2"},Y={class:""},Z={class:"card bg-base-100 shadow-xl"},ss={class:"p-2 grid sm:grid-cols-4 gap-2"},es={class:"col-span-4 sm:col-span-1"},ls={class:"col-span-4 sm:col-span-1"},os={class:"col-span-4 sm:col-span-1"},as={class:"col-span-4 sm:col-span-1"},ts={key:0,href:"#deleteModal",class:"btn w-full btn-primary gap-2 sm:mt-9"},ns=s("span",{class:""},"Alterar senha",-1),is={key:1},ds={class:"modal",id:"deleteModal"},rs={class:"modal-box"},cs=s("h3",{class:"font-bold text-lg"},"Alterar Senha",-1),ps={class:"py-4"},us={class:"modal-action"},ms=s("a",{href:"#",class:"btn"},"Cancelar",-1),hs={class:"col-span-4 sm:col-span-1"},_s={class:"col-span-4 sm:col-span-1"},bs={class:"col-span-2"},fs=s("label",{class:"label"},[s("span",{class:"label-text font-medium"},"Aplicativos")],-1),ks={class:"grid grid-cols-3 sm:grid-cols-5 form-control mt-1"},xs={class:"label cursor-pointer space-x-2"},Us=["checked"],Vs=s("span",{class:"label-text flex-1"},"Tempos",-1),gs={class:"label cursor-pointer space-x-2"},vs=["checked"],ys=s("span",{class:"label-text flex-1"},"Custos",-1),ws={class:"label cursor-pointer space-x-2"},Cs=["checked"],$s=s("span",{class:"label-text flex-1"},"Vendas",-1),As={class:"label cursor-pointer space-x-2"},Ns=["checked"],Ss=s("span",{class:"label-text flex-1"},"Cargas",-1),zs={class:"label cursor-pointer space-x-2"},Is=["checked"],Bs=s("span",{class:"label-text flex-1"},"Cursos",-1),js={__name:"Info",props:{context:String,thisUser:Object,companies:Array,roles:Array},setup(d){var g,v,y,w,C,$,A,N,S,z,I,B;const t=d,V=t.context==="create";t.context,t.context;const i=r=>t.thisUser&&t.thisUser.roles[0]?t.thisUser.roles[0].permissions.filter(e=>e.name==="apps."+r).length>0:!1,a=F({name:(v=(g=t.thisUser)==null?void 0:g.name)!=null?v:null,username:(w=(y=t.thisUser)==null?void 0:y.username)!=null?w:null,email:($=(C=t.thisUser)==null?void 0:C.email)!=null?$:null,password:null,company_id:(N=(A=t.thisUser)==null?void 0:A.company_id)!=null?N:null,role_id:(I=(z=(S=t.thisUser)==null?void 0:S.roles[0])==null?void 0:z.id)!=null?I:null,apps_times:i("times"),apps_budget:i("budget"),apps_sales:i("sales"),apps_ships:i("ships"),apps_courses:i("courses")}),u=F({id:(B=t.thisUser)==null?void 0:B.id,password:null,retype:null}),P=()=>{k.Inertia.delete(route("user.destroy",t.thisUser.id))},j=()=>{k.Inertia.put(route("user.update",t.thisUser.id),a)},D=()=>{k.Inertia.post(route("user.store"),a)},T=()=>{k.Inertia.put(route("user.passwordUpdate",t.thisUser.id),u)};return(r,e)=>{const m=H("font-awesome-icon");return c(),q(G,null,{header:x(()=>[O(" Usu\xE1rios ")]),actions:x(()=>[s("a",{href:r.route("user.index"),class:"btn btn-outline mr-2 gap-2"},[n(m,{icon:"fa-solid fa-arrow-left",size:"lg"}),K],8,J),V?(c(),_("a",{key:0,onClick:e[0]||(e[0]=h=>D()),class:"btn btn-success gap-2"},[n(m,{icon:"fa-solid fa-save",size:"lg"}),L])):U("",!0),V?U("",!0):(c(),_(R,{key:1},[s("a",{onClick:e[1]||(e[1]=h=>j()),class:"btn btn-success mr-2 gap-2"},[n(m,{icon:"fa-solid fa-arrows-rotate",size:"lg"}),Q]),d.thisUser.id!==r.$page.props.user.id?(c(),_("a",{key:0,onClick:e[2]||(e[2]=h=>P()),class:"btn btn-error gap-2"},[n(m,{icon:"fa-solid fa-trash",size:"lg"}),W])):U("",!0)],64))]),default:x(()=>{var h,E;return[s("div",X,[s("div",Y,[s("div",Z,[s("div",ss,[s("div",es,[n(p,{label:"Nome",modelValue:o(a).name,"onUpdate:modelValue":e[3]||(e[3]=l=>o(a).name=l)},null,8,["modelValue"])]),s("div",ls,[n(p,{label:"Usu\xE1rio",modelValue:o(a).username,"onUpdate:modelValue":e[4]||(e[4]=l=>o(a).username=l)},null,8,["modelValue"])]),s("div",os,[n(p,{label:"Email",modelValue:o(a).email,"onUpdate:modelValue":e[5]||(e[5]=l=>o(a).email=l)},null,8,["modelValue"])]),s("div",as,[d.thisUser?(c(),_("a",ts,[n(m,{icon:"fa-solid fa-lock",size:"lg"}),ns])):(c(),_("div",is,[n(p,{label:"Senha",modelValue:o(a).password,"onUpdate:modelValue":e[6]||(e[6]=l=>o(a).password=l)},null,8,["modelValue"])])),s("div",ds,[s("div",rs,[cs,s("p",ps,[n(p,{type:"password",label:"Senha",modelValue:o(u).password,"onUpdate:modelValue":e[7]||(e[7]=l=>o(u).password=l)},null,8,["modelValue"]),n(p,{type:"password",label:"Repita a senha",modelValue:o(u).retype,"onUpdate:modelValue":e[8]||(e[8]=l=>o(u).retype=l)},null,8,["modelValue"])]),s("div",us,[ms,s("a",{href:"#",onClick:e[9]||(e[9]=l=>T()),class:"btn"},"Alterar Senha")])])])]),s("div",hs,[n(M,{label:"Empresa",options:d.companies,modelValue:o(a).company_id,"onUpdate:modelValue":e[10]||(e[10]=l=>o(a).company_id=l),disabled:((h=d.thisUser)==null?void 0:h.id)===r.$page.props.user.id},null,8,["options","modelValue","disabled"])]),s("div",_s,[n(M,{label:"Perfil",options:d.roles,modelValue:o(a).role_id,"onUpdate:modelValue":e[11]||(e[11]=l=>o(a).role_id=l),disabled:((E=d.thisUser)==null?void 0:E.id)===r.$page.props.user.id},null,8,["options","modelValue","disabled"])]),s("div",bs,[fs,s("div",ks,[s("label",xs,[b(s("input",{type:"checkbox",class:"checkbox","onUpdate:modelValue":e[12]||(e[12]=l=>o(a).apps_times=l),checked:i("times"),disabled:""},null,8,Us),[[f,o(a).apps_times]]),Vs]),s("label",gs,[b(s("input",{type:"checkbox",class:"checkbox","onUpdate:modelValue":e[13]||(e[13]=l=>o(a).apps_budget=l),checked:i("budget"),disabled:""},null,8,vs),[[f,o(a).apps_budget]]),ys]),s("label",ws,[b(s("input",{type:"checkbox",class:"checkbox","onUpdate:modelValue":e[14]||(e[14]=l=>o(a).apps_sales=l),checked:i("sales"),disabled:""},null,8,Cs),[[f,o(a).apps_sales]]),$s]),s("label",As,[b(s("input",{type:"checkbox",class:"checkbox","onUpdate:modelValue":e[15]||(e[15]=l=>o(a).apps_ships=l),checked:i("ships"),disabled:""},null,8,Ns),[[f,o(a).apps_ships]]),Ss]),s("label",zs,[b(s("input",{type:"checkbox",class:"checkbox","onUpdate:modelValue":e[16]||(e[16]=l=>o(a).apps_courses=l),checked:i("courses"),disabled:""},null,8,Is),[[f,o(a).apps_courses]]),Bs])])])])])])])]}),_:1})}}};export{js as default};
