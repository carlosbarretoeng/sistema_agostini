import{u as f,g as O,h as k,o as a,c as d,e as l,d as s,a as n,b as i,F as _,i as T,t as y,m as u,k as j,j as A}from"./app.731ac8b3.js";import{_ as L,A as v}from"./AppLayout.8921b030.js";import{_ as N}from"./InputText.04132902.js";import{_ as P}from"./InputSelect.a433c38d.js";import"./pt-br.84fb1075.js";const Q=A(" Novo Produto "),G=A(" Produto "),H=["href"],J=s("span",{class:"hidden sm:inline-block"},"Voltar",-1),K=s("span",{class:"hidden sm:inline-block"},"Salvar",-1),W=s("span",{class:"hidden sm:inline-block"},"Atualizar",-1),X=["href"],Y=s("span",{class:"hidden sm:inline-block"},"Editar",-1),Z={key:1,href:"#deleteModal",class:"btn btn-error gap-2"},I=s("span",{class:"hidden sm:inline-block"},"Excluir",-1),R={class:"modal",id:"deleteModal"},ss={class:"modal-box"},os=s("h3",{class:"font-bold text-lg"},"Excluir Empresa",-1),es=s("p",{class:"py-4"},"Tem certeza de que quer excluir essa empresa? Essa opera\xE7\xE3o n\xE3o poder\xE1 ser defeita.",-1),ts={class:"modal-action"},as=s("a",{href:"#",class:"btn"},"N\xE3o",-1),ds={class:"grid sm:grid-cols-4 gap-2"},ns=s("div",{class:"divider"},"Etapa de Produto",-1),is={key:0,class:"grid sm:grid-cols-4 gap-2 mb-2"},ls={href:"#addProductModal",class:"btn w-full sm:col-span-4 gap-2"},rs=s("span",{class:"hidden sm:inline-block"},"Adicionar Produto",-1),cs={class:"modal",id:"addProductModal"},us={class:"modal-box"},ps=s("h3",{class:"font-bold text-lg"},"Adicionar Etapa de Produto",-1),ms={class:"modal-action"},_s=s("a",{href:"#",class:"btn"},"Cancelar",-1),bs={class:"grid sm:grid-cols-3 gap-2"},fs={class:"flex items-center space-x-2 h-12 p-2 bg-base-300"},hs={class:"avatar placeholder"},gs={class:"bg-neutral-focus text-neutral-content rounded-full w-6"},vs={class:"font-bold"},ks=s("div",{class:"flex items-center space-x-2 px-2"},[s("div",{class:"w-full"})],-1),ys={key:0,class:"bg-base-300/25 grid grid-cols-3 gap-2"},ws=["onClick","disabled"],Vs=["onClick"],xs=["onClick","disabled"],As={__name:"Info",props:{context:String,id:Number,company_id:Number|null,name:String,productRecipe:Array,companies:Array,machineries:Array,parts:Array},setup(p){var V,x,C,$;const r=p,w=r.context==="create",h=r.context==="show",g=r.context==="edit",m=f({id:(V=r.id)!=null?V:null,company_id:(x=r.company_id)!=null?x:null,name:(C=r.name)!=null?C:null}),b=f({product_id:($=r.id)!=null?$:null,part_id:null,machinery_id:null,order:r.productRecipe.length+1,quantity:null}),z=()=>{u.Inertia.delete(route("product.destroy",r.id))},q=()=>{u.Inertia.post(route("product.store"),m)},S=()=>{u.Inertia.put(route("product.update",r.id),m)},U=e=>{u.Inertia.delete(route("product_recipe.destroy",e.id),f({product_id:e.productId}))},B=e=>{u.Inertia.put(route("product_recipe.update",e.id),f({id:e.id,product_id:e.productId,order:e.order+1}))},M=e=>{u.Inertia.put(route("product_recipe.update",e.id),f({id:e.id,product_id:e.productId,order:e.order-1}))},D=()=>{u.Inertia.post(route("product_recipe.store"),b)};return(e,t)=>{const c=j("font-awesome-icon");return a(),O(L,null,{header:k(()=>[w?(a(),d(_,{key:0},[Q],64)):l("",!0),h||g?(a(),d(_,{key:1},[G],64)):l("",!0)]),actions:k(()=>[s("a",{href:e.route("product.index"),class:"btn btn-outline mr-2 gap-2"},[n(c,{icon:"fa-solid fa-arrow-left",size:"lg"}),J],8,H),w?(a(),d(_,{key:0},[i(v).canView(e.$page.props.user,{permission:"product.create"})?(a(),d("a",{key:0,onClick:t[0]||(t[0]=o=>q()),class:"btn btn-success gap-2"},[n(c,{icon:"fa-solid fa-save",size:"lg"}),K])):l("",!0)],64)):l("",!0),g?(a(),d(_,{key:1},[i(v).canView(e.$page.props.user,{permission:"product.update"})?(a(),d("a",{key:0,onClick:t[1]||(t[1]=o=>S()),class:"btn btn-success gap-2"},[n(c,{icon:"fa-solid fa-arrows-rotate",size:"lg"}),W])):l("",!0)],64)):l("",!0),h?(a(),d(_,{key:2},[i(v).canView(e.$page.props.user,{permission:"product.update"})?(a(),d("a",{key:0,href:e.route("product.edit",p.id),class:"btn btn-info mr-2 gap-2"},[n(c,{icon:"fa-solid fa-edit",size:"lg"}),Y],8,X)):l("",!0),i(v).canView(e.$page.props.user,{permission:"product.delete"})?(a(),d("a",Z,[n(c,{icon:"fa-solid fa-trash",size:"lg"}),I])):l("",!0),s("div",R,[s("div",ss,[os,es,s("div",ts,[s("a",{onClick:t[2]||(t[2]=o=>z()),class:"btn"},"Sim"),as])])])],64)):l("",!0)]),default:k(()=>[s("div",ds,[n(P,{label:"Empresa",options:p.companies,modelValue:i(m).company_id,"onUpdate:modelValue":t[3]||(t[3]=o=>i(m).company_id=o),disabled:h},null,8,["options","modelValue"]),n(N,{label:"Nome",modelValue:i(m).name,"onUpdate:modelValue":t[4]||(t[4]=o=>i(m).name=o),disabled:h},null,8,["modelValue"])]),ns,g?(a(),d("div",is,[s("a",ls,[n(c,{icon:"fa-solid fa-add",size:"lg"}),rs]),s("div",cs,[s("div",us,[ps,s("div",null,[n(P,{label:"Etapa",options:p.parts,modelValue:i(b).part_id,"onUpdate:modelValue":t[5]||(t[5]=o=>i(b).part_id=o)},null,8,["options","modelValue"]),n(N,{label:"Quantidade",mask:"##",modelValue:i(b).quantity,"onUpdate:modelValue":t[6]||(t[6]=o=>i(b).quantity=o)},null,8,["modelValue"])]),s("div",ms,[_s,s("a",{class:"btn",href:"#",onClick:t[7]||(t[7]=o=>D())},"Adicionar")])])])])):l("",!0),s("div",bs,[(a(!0),d(_,null,T(p.productRecipe,(o,F)=>(a(),d("div",{key:F,class:"card card-compact bg-base-100 shadow-sm"},[s("div",fs,[s("div",hs,[s("div",gs,[s("span",null,y(o.order),1)])]),s("div",null,[s("div",vs,y(o.quantity)+"x "+y(o.partName),1)])]),ks,g?(a(),d("div",ys,[s("button",{class:"btn btn-ghost btn-sm w-full gap-2",onClick:E=>M(o),disabled:o.order<=1},[n(c,{icon:"fa-solid fa-down-long"})],8,ws),s("button",{class:"btn btn-ghost btn-sm w-full gap-2",onClick:E=>U(o)},[n(c,{icon:"fa-solid fa-trash"})],8,Vs),s("button",{class:"btn btn-ghost btn-sm w-full gap-2",onClick:E=>B(o),disabled:o.order===p.productRecipe.length},[n(c,{icon:"fa-solid fa-up-long"})],8,xs)])):l("",!0)]))),128))])]),_:1})}}};export{As as default};
